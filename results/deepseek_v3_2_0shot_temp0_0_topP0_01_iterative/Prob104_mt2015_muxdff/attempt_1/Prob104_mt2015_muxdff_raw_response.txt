always @(posedge clk) begin
    Q <= (L) ? r_in : q_in;
end