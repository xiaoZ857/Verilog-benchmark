assign B3_next = (state == 10'b0000000100) && !d;
assign S_next = (state == 10'b0000000001);
assign S1_next = (state == 10'b0000000010);
assign Count_next = (state == 10'b0000001000);
assign Wait_next = (state == 10'b0000010000);

assign done = (state == 10'b0000010000);
assign counting = (state == 10'b0000001000);
assign shift_ena = (state == 10'b0000000100) && !d;

endmodule