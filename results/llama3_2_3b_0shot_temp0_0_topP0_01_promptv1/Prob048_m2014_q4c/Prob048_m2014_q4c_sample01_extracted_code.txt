assign q = (r & ~q) ? 1'b0 : d;