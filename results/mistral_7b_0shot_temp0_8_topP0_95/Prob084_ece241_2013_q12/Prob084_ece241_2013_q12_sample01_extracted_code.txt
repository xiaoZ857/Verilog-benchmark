module TopModule (
  input clk,
  input enable,
  input S,
  input A,
  input B,
  input C,
  output reg [7:0] Q,
  output reg Z
);

// Define 8-bit shift register with D-type flip-flops
always @(posedge clk) begin
  if (enable)
    Q[0] <= S;
  for (int i = 1; i < 8; i++)
    Q[i] <= Q[i - 1];
end

// Multiplexer to select the output Z based on ABC inputs
assign Z = Q[(A & B & C)];

endmodule