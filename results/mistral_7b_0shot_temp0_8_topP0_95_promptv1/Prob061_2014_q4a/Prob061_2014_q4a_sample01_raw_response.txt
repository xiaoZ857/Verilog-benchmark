 ```verilog
always @(posedge clk) begin
    if (L)
        Q <= R;
    else if (E)
        Q <= {Q[1:0], w}; // concatenate current data and new input for shifting
end
```