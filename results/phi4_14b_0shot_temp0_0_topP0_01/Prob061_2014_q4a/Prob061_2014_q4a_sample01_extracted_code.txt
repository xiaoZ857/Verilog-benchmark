always @(posedge clk) begin
    if (L)
        Q <= R;
    else if (E)
        Q <= {Q[n-2:0], w};
end

endmodule