```verilog
assign out = (~c & ~d & (a | b)) |
             (~c & d & ((~a & b) | (a & ~b) | (a & b))) |
             (c & ~d & (a & b)) |
             (c & d & ((~a & ~b) | (a & b) | (a & ~b)));
endmodule
```